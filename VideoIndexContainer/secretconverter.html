<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>YouTube No‑Cookie Purifier</title>
    <style>
      body { font-family: sans-serif; background:#111; color:#fff; text-align:center; }
      input { width: 60%; padding: 8px; }
      button { padding: 8px 16px; margin-left: 8px; }
      iframe {
        margin-top: 20px;
        width: 80vw;
        height: 45vw;
        max-width: 960px;
        max-height: 540px;
        border: none;
      }
    </style>
  </head>
  <body>
    <h1>YouTube No‑Cookie Viewer</h1>
    <p>Paste a YouTube URL (watch or youtu.be):</p>

    <input id="yt-url" placeholder="https://www.youtube.com/watch?v=..." />
    <button onclick="loadVideo()">Purify</button>

    <div id="player-container"></div>

    <script>
      function extractVideoId(url) {
        // Accept full YouTube and youtu.be links
        try {
          const u = new URL(url);

          // https://www.youtube.com/watch?v=VIDEO_ID
          if (u.hostname.includes('youtube.com')) {
            return u.searchParams.get('v');
          }

          // https://youtu.be/VIDEO_ID
          if (u.hostname === 'youtu.be') {
            return u.pathname.slice(1);
          }
        } catch (e) {
          // If user just pasted the ID itself
          if (/^[a-zA-Z0-9_-]{11}$/.test(url)) {
            return url;
          }
        }
        return null;
      }

      function loadVideo() {
        const input = document.getElementById('yt-url').value.trim();
        const id = extractVideoId(input);

        const container = document.getElementById('player-container');
        container.innerHTML = '';

        if (!id) {
          container.textContent = 'Could not understand that YouTube URL or ID.';
          return;
        }

        // Use youtube-nocookie.com embed
        const embedUrl =
          `https://www.youtube-nocookie.com/embed/${id}?rel=0&modestbranding=1&controls=1`;

        const iframe = document.createElement('iframe');
        iframe.src = embedUrl;
        iframe.allow =
          'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
        iframe.allowFullscreen = true;

        container.appendChild(iframe);
      }
    </script>
  </body>
</html>
